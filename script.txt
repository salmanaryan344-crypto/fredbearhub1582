-- Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Lighting = game:GetService("Lighting")
local player = Players.LocalPlayer

-- Remove any existing GUI first
if player:WaitForChild("PlayerGui"):FindFirstChild("FredbearHub") then
	player:WaitForChild("PlayerGui").FredbearHub:Destroy()
end

-- ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "FredbearHub"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Main Frame (Increased for tabs)
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 400, 0, 400) -- Increased height for tabs
frame.Position = UDim2.new(0.5, -200, 0.5, -200) -- Center manually
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 18)

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -120, 0, 40) -- Adjusted for icon
title.Position = UDim2.new(0, 50, 0, 0) -- Moved right for icon
title.BackgroundTransparency = 1
title.Text = "Fredbear Hub | Version: 1.0"
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = frame

-- Icon next to title (Decal)
local icon = Instance.new("ImageLabel")
icon.Size = UDim2.new(0, 32, 0, 32)
icon.Position = UDim2.new(0, 10, 0, 4) -- Left of title
icon.BackgroundTransparency = 1
icon.Image = "rbxassetid://120545174495225" -- Your decal ID
icon.ScaleType = Enum.ScaleType.Fit
icon.Parent = frame

-- Exit Button
local exit = Instance.new("TextButton")
exit.Size = UDim2.new(0, 36, 0, 36)
exit.Position = UDim2.new(1, -44, 0, 2)
exit.BackgroundColor3 = Color3.fromRGB(170, 50, 50)
exit.Text = "X"
exit.TextColor3 = Color3.new(1,1,1)
exit.Font = Enum.Font.GothamBold
exit.TextSize = 18
exit.Parent = frame
Instance.new("UICorner", exit).CornerRadius = UDim.new(0, 10)

-- Exit with fade effect
exit.MouseButton1Click:Connect(function()
	-- Fade out all UI elements (text, buttons, images)
	for _, child in ipairs(frame:GetDescendants()) do
		if child:IsA("TextLabel") or child:IsA("TextButton") then
			TweenService:Create(child, TweenInfo.new(0.3), {
				TextTransparency = 1,
				BackgroundTransparency = 1
			}):Play()
		elseif child:IsA("ImageLabel") then
			TweenService:Create(child, TweenInfo.new(0.3), {
				ImageTransparency = 1,
				BackgroundTransparency = 1
			}):Play()
		elseif child:IsA("Frame") and child ~= frame then
			TweenService:Create(child, TweenInfo.new(0.3), {
				BackgroundTransparency = 1
			}):Play()
		end
	end
	
	-- Wait a bit for fade to start
	task.wait(0.2)
	
	-- Get current position and size
	local currentPosition = frame.Position
	local currentSize = frame.Size
	
	-- Shrink the entire frame upward to nothing
	local shrinkTween = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
		Size = UDim2.new(0, 0, 0, 0),
		Position = UDim2.new(
			currentPosition.X.Scale + (currentSize.X.Scale / 2),
			currentPosition.X.Offset + (currentSize.X.Offset / 2),
			currentPosition.Y.Scale + (currentSize.Y.Scale / 2),
			currentPosition.Y.Offset + (currentSize.Y.Offset / 2)
		),
		BackgroundTransparency = 1
	})
	shrinkTween:Play()
	
	-- Destroy after animation
	shrinkTween.Completed:Connect(function()
		gui:Destroy()
	end)
end)

-- Minimize Button
local minimize = Instance.new("TextButton")
minimize.Size = UDim2.new(0, 36, 0, 36)
minimize.Position = UDim2.new(1, -84, 0, 2) -- next to exit
minimize.BackgroundColor3 = Color3.fromRGB(100,100,100)
minimize.Text = "-"
minimize.TextColor3 = Color3.new(1,1,1)
minimize.Font = Enum.Font.GothamBold
minimize.TextSize = 18
minimize.Parent = frame
Instance.new("UICorner", minimize).CornerRadius = UDim.new(0, 10)

-- =====================
-- Tabs Container
-- =====================
local tabsContainer = Instance.new("Frame")
tabsContainer.Size = UDim2.new(1, -20, 0, 40)
tabsContainer.Position = UDim2.new(0, 10, 0, 45)
tabsContainer.BackgroundTransparency = 1
tabsContainer.Parent = frame

-- Main Tab Button
local mainTabBtn = Instance.new("TextButton")
mainTabBtn.Size = UDim2.new(0.25, 0, 1, 0)
mainTabBtn.Position = UDim2.new(0, 0, 0, 0)
mainTabBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
mainTabBtn.Text = "MAIN"
mainTabBtn.TextColor3 = Color3.new(1, 1, 1)
mainTabBtn.Font = Enum.Font.GothamBold
mainTabBtn.TextSize = 14
mainTabBtn.Parent = tabsContainer
Instance.new("UICorner", mainTabBtn).CornerRadius = UDim.new(0, 8)

-- Settings Tab Button
local settingsTabBtn = Instance.new("TextButton")
settingsTabBtn.Size = UDim2.new(0.25, 0, 1, 0)
settingsTabBtn.Position = UDim2.new(0.27, 0, 0, 0)
settingsTabBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
settingsTabBtn.Text = "SETTINGS"
settingsTabBtn.TextColor3 = Color3.new(0.7, 0.7, 0.7)
settingsTabBtn.Font = Enum.Font.GothamBold
settingsTabBtn.TextSize = 14
settingsTabBtn.Parent = tabsContainer
Instance.new("UICorner", settingsTabBtn).CornerRadius = UDim.new(0, 8)

-- Logs Tab Button
local logsTabBtn = Instance.new("TextButton")
logsTabBtn.Size = UDim2.new(0.25, 0, 1, 0)
logsTabBtn.Position = UDim2.new(0.54, 0, 0, 0)
logsTabBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
logsTabBtn.Text = "LOGS"
logsTabBtn.TextColor3 = Color3.new(0.7, 0.7, 0.7)
logsTabBtn.Font = Enum.Font.GothamBold
logsTabBtn.TextSize = 14
logsTabBtn.Parent = tabsContainer
Instance.new("UICorner", logsTabBtn).CornerRadius = UDim.new(0, 8)

-- =====================
-- Tab Content Frames
-- =====================
local tabContent = Instance.new("Frame")
tabContent.Size = UDim2.new(1, 0, 1, -95)
tabContent.Position = UDim2.new(0, 0, 0, 95)
tabContent.BackgroundTransparency = 1
tabContent.Parent = frame

-- Main Tab Content
local mainContent = Instance.new("ScrollingFrame")
mainContent.Name = "MainContent"
mainContent.Size = UDim2.new(1, 0, 1, 0)
mainContent.Position = UDim2.new(0, 0, 0, 0)
mainContent.BackgroundTransparency = 1
mainContent.BorderSizePixel = 0
mainContent.ScrollBarThickness = 8
mainContent.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
mainContent.VerticalScrollBarInset = Enum.ScrollBarInset.Always
mainContent.CanvasSize = UDim2.new(0, 0, 0, 0)
mainContent.Visible = true
mainContent.Parent = tabContent

-- Settings Tab Content
local settingsContent = Instance.new("ScrollingFrame")
settingsContent.Name = "SettingsContent"
settingsContent.Size = UDim2.new(1, 0, 1, 0)
settingsContent.Position = UDim2.new(0, 0, 0, 0)
settingsContent.BackgroundTransparency = 1
settingsContent.BorderSizePixel = 0
settingsContent.ScrollBarThickness = 8
settingsContent.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
settingsContent.VerticalScrollBarInset = Enum.ScrollBarInset.Always
settingsContent.CanvasSize = UDim2.new(0, 0, 0, 0)
settingsContent.Visible = false
settingsContent.Parent = tabContent

-- Logs Tab Content
local logsContent = Instance.new("ScrollingFrame")
logsContent.Name = "LogsContent"
logsContent.Size = UDim2.new(1, 0, 1, 0)
logsContent.Position = UDim2.new(0, 0, 0, 0)
logsContent.BackgroundTransparency = 1
logsContent.BorderSizePixel = 0
logsContent.ScrollBarThickness = 8
logsContent.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
logsContent.VerticalScrollBarInset = Enum.ScrollBarInset.Always
logsContent.CanvasSize = UDim2.new(0, 0, 0, 0)
logsContent.Visible = false
logsContent.Parent = tabContent

-- =====================
-- Tab Switching
-- =====================
local currentTab = "main"

local function switchTab(tabName)
    currentTab = tabName
    
    -- Reset all tabs
    mainTabBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    mainTabBtn.TextColor3 = Color3.new(0.7, 0.7, 0.7)
    settingsTabBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    settingsTabBtn.TextColor3 = Color3.new(0.7, 0.7, 0.7)
    logsTabBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    logsTabBtn.TextColor3 = Color3.new(0.7, 0.7, 0.7)
    
    mainContent.Visible = false
    settingsContent.Visible = false
    logsContent.Visible = false
    
    -- Activate selected tab
    if tabName == "main" then
        mainTabBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        mainTabBtn.TextColor3 = Color3.new(1, 1, 1)
        mainContent.Visible = true
    elseif tabName == "settings" then
        settingsTabBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        settingsTabBtn.TextColor3 = Color3.new(1, 1, 1)
        settingsContent.Visible = true
    elseif tabName == "logs" then
        logsTabBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        logsTabBtn.TextColor3 = Color3.new(1, 1, 1)
        logsContent.Visible = true
    end
end

mainTabBtn.MouseButton1Click:Connect(function()
    switchTab("main")
end)

settingsTabBtn.MouseButton1Click:Connect(function()
    switchTab("settings")
end)

logsTabBtn.MouseButton1Click:Connect(function()
    switchTab("logs")
end)

-- =====================
-- MAIN TAB CONTENT
-- =====================
local mainContainer = Instance.new("Frame")
mainContainer.Name = "MainContainer"
mainContainer.Size = UDim2.new(1, 0, 0, 0)
mainContainer.BackgroundTransparency = 1
mainContainer.Parent = mainContent

-- Function to update main canvas size
local function updateMainCanvasSize()
    local totalHeight = 0
    for _, child in ipairs(mainContainer:GetChildren()) do
        if child:IsA("GuiObject") then
            totalHeight = totalHeight + child.Size.Y.Offset + 10
        end
    end
    mainContent.CanvasSize = UDim2.new(0, 0, 0, totalHeight)
    mainContainer.Size = UDim2.new(1, 0, 0, totalHeight)
end

-- =====================
-- Highlight Button (MAIN TAB)
-- =====================
local highlightBtn = Instance.new("TextButton")
highlightBtn.Size = UDim2.new(0.9, 0, 0, 40)
highlightBtn.Position = UDim2.new(0.05, 0, 0, 0)
highlightBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
highlightBtn.Text = "Highlight Animatronics: OFF"
highlightBtn.TextColor3 = Color3.new(1,1,1)
highlightBtn.Font = Enum.Font.Gotham
highlightBtn.TextSize = 15
highlightBtn.Parent = mainContainer
Instance.new("UICorner", highlightBtn).CornerRadius = UDim.new(0, 12)

local highlightEnabled = false

local function applyHighlight(model)
	if not model or model:FindFirstChild("AnimHighlight") then return end
	local h = Instance.new("Highlight")
	h.Name = "AnimHighlight"
	h.FillTransparency = 0.8
	h.FillColor = Color3.new(1, 1, 1)
	h.OutlineColor = Color3.new(1, 1, 1)
	h.OutlineTransparency = 0
	h.Adornee = model
	h.Parent = model
end

local function removeHighlight(model)
	if not model then return end
	local h = model:FindFirstChild("AnimHighlight")
	if h then h:Destroy() end
end

highlightBtn.MouseButton1Click:Connect(function()
	highlightEnabled = not highlightEnabled
	if highlightEnabled then
		highlightBtn.Text = "Highlight Animatronics: ON"
		applyHighlight(workspace:FindFirstChild("FredBear"))
		applyHighlight(workspace:FindFirstChild("SpringBonnie"))
	else
		highlightBtn.Text = "Highlight Animatronics: OFF"
		removeHighlight(workspace:FindFirstChild("FredBear"))
		removeHighlight(workspace:FindFirstChild("SpringBonnie"))
	end
end)

-- =====================
-- Speed Slider (MAIN TAB)
-- =====================
local speedLabel = Instance.new("TextLabel")
speedLabel.Size = UDim2.new(0.9, 0, 0, 25)
speedLabel.Position = UDim2.new(0.05,0,0,50)
speedLabel.BackgroundTransparency = 1
speedLabel.Text = "Speed Adjuster: 16"
speedLabel.TextColor3 = Color3.new(1,1,1)
speedLabel.Font = Enum.Font.Gotham
speedLabel.TextSize = 15
speedLabel.TextXAlignment = Enum.TextXAlignment.Left
speedLabel.Parent = mainContainer

local sliderFrame = Instance.new("Frame")
sliderFrame.Size = UDim2.new(0.9,0,0,20)
sliderFrame.Position = UDim2.new(0.05,0,0,85)
sliderFrame.BackgroundColor3 = Color3.fromRGB(50,50,50)
sliderFrame.Parent = mainContainer
Instance.new("UICorner", sliderFrame).CornerRadius = UDim.new(0, 10)

local fill = Instance.new("Frame")
fill.Size = UDim2.new(0,0,1,0)
fill.BackgroundColor3 = Color3.fromRGB(0,170,255)
fill.Parent = sliderFrame
Instance.new("UICorner", fill).CornerRadius = UDim.new(0,10)

local handle = Instance.new("Frame")
handle.Size = UDim2.new(0, 16, 1, 0)
handle.AnchorPoint = Vector2.new(0.5,0.5)
handle.Position = UDim2.new(0,0,0.5,0)
handle.BackgroundColor3 = Color3.fromRGB(255,255,255)
handle.Parent = sliderFrame
Instance.new("UICorner", handle).CornerRadius = UDim.new(0,8)

local MIN_SPEED = 16
local MAX_SPEED = 120
local draggingSlider = false
local currentSpeed = 16

local function updateSpeedFromPos(x)
	x = math.clamp(x, 0, sliderFrame.AbsoluteSize.X)
	local speed = math.floor(MIN_SPEED + (x / sliderFrame.AbsoluteSize.X) * (MAX_SPEED - MIN_SPEED))
	currentSpeed = speed
	fill.Size = UDim2.new(0,x,1,0)
	handle.Position = UDim2.new(0,x,0.5,0)
	local hum = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
	if hum then
		hum.WalkSpeed = speed
	end
	speedLabel.Text = "Speed Adjuster: "..speed
end

sliderFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingSlider = true
		local pos = input.Position.X - sliderFrame.AbsolutePosition.X
		updateSpeedFromPos(pos)
	end
end)
sliderFrame.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingSlider = false
	end
end)
UserInputService.InputChanged:Connect(function(input)
	if draggingSlider and input.UserInputType == Enum.UserInputType.MouseMovement then
		local pos = input.Position.X - sliderFrame.AbsolutePosition.X
		updateSpeedFromPos(pos)
	end
end)

-- Reset Speed Button (MAIN TAB)
local resetBtn = Instance.new("TextButton")
resetBtn.Size = UDim2.new(0.9,0,0,36)
resetBtn.Position = UDim2.new(0.05,0,0,115)
resetBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
resetBtn.Text = "Reset Speed"
resetBtn.TextColor3 = Color3.new(1,1,1)
resetBtn.Font = Enum.Font.Gotham
resetBtn.TextSize = 15
resetBtn.Parent = mainContainer
Instance.new("UICorner", resetBtn).CornerRadius = UDim.new(0,12)

resetBtn.MouseButton1Click:Connect(function()
	currentSpeed = 16
	updateSpeedFromPos(0)
end)

-- Update speed on respawn
local function applySpeedOnRespawn()
	local hum = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
	if hum then
		hum.WalkSpeed = currentSpeed
		local x = ((currentSpeed - MIN_SPEED) / (MAX_SPEED - MIN_SPEED)) * sliderFrame.AbsoluteSize.X
		fill.Size = UDim2.new(0,x,1,0)
		handle.Position = UDim2.new(0,x,0.5,0)
		speedLabel.Text = "Speed Adjuster: "..currentSpeed
	end
end
player.CharacterAdded:Connect(function()
	task.wait(0.2)
	applySpeedOnRespawn()
end)

-- =====================
-- Full Bright Button (MAIN TAB)
-- =====================
local fullBrightBtn = Instance.new("TextButton")
fullBrightBtn.Size = UDim2.new(0.9, 0, 0, 36)
fullBrightBtn.Position = UDim2.new(0.05, 0, 0, 165)
fullBrightBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
fullBrightBtn.Text = "Full Bright: OFF"
fullBrightBtn.TextColor3 = Color3.new(1, 1, 1)
fullBrightBtn.Font = Enum.Font.Gotham
fullBrightBtn.TextSize = 15
fullBrightBtn.Parent = mainContainer
Instance.new("UICorner", fullBrightBtn).CornerRadius = UDim.new(0, 12)

local fullBrightEnabled = false

local function enableFullBright()
    -- Make everything bright
    Lighting.Brightness = 3
    Lighting.Ambient = Color3.new(1, 1, 1)
    Lighting.OutdoorAmbient = Color3.new(1, 1, 1)
    Lighting.ColorShift_Top = Color3.new(0, 0, 0)
    Lighting.ColorShift_Bottom = Color3.new(0, 0, 0)
    Lighting.ExposureCompensation = 1
    
    -- Create and apply Bloom effect for extra brightness
    local bloom = Instance.new("BloomEffect")
    bloom.Name = "FullBrightBloom"
    bloom.Intensity = 0.5
    bloom.Threshold = 0.8
    bloom.Size = 24
    bloom.Parent = Lighting
    
    fullBrightBtn.Text = "Full Bright: ON"
    fullBrightEnabled = true
end

local function disableFullBright()
    -- Reset to default lighting
    Lighting.Brightness = 1
    Lighting.Ambient = Color3.fromRGB(128, 128, 128)
    Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
    Lighting.ColorShift_Top = Color3.new(0, 0, 0)
    Lighting.ColorShift_Bottom = Color3.new(0, 0, 0)
    Lighting.ExposureCompensation = 0
    
    -- Remove bloom effect
    local bloom = Lighting:FindFirstChild("FullBrightBloom")
    if bloom then
        bloom:Destroy()
    end
    
    fullBrightBtn.Text = "Full Bright: OFF"
    fullBrightEnabled = false
end

fullBrightBtn.MouseButton1Click:Connect(function()
    if fullBrightEnabled then
        disableFullBright()
    else
        enableFullBright()
    end
end)

-- =====================
-- No Fog Button (MAIN TAB)
-- =====================
local noFogBtn = Instance.new("TextButton")
noFogBtn.Size = UDim2.new(0.9, 0, 0, 36)
noFogBtn.Position = UDim2.new(0.05, 0, 0, 215)
noFogBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
noFogBtn.Text = "No Fog: OFF"
noFogBtn.TextColor3 = Color3.new(1, 1, 1)
noFogBtn.Font = Enum.Font.Gotham
noFogBtn.TextSize = 15
noFogBtn.Parent = mainContainer
Instance.new("UICorner", noFogBtn).CornerRadius = UDim.new(0, 12)

local noFogEnabled = false

local function enableNoFog()
    -- Disable fog
    Lighting.FogStart = 0
    Lighting.FogEnd = 10000000000
    
    noFogBtn.Text = "No Fog: ON"
    noFogEnabled = true
end

local function disableNoFog()
    -- Reset fog to default
    Lighting.FogStart = 0
    Lighting.FogEnd = 100000
    
    noFogBtn.Text = "No Fog: OFF"
    noFogEnabled = false
end

noFogBtn.MouseButton1Click:Connect(function()
    if noFogEnabled then
        disableNoFog()
    else
        enableNoFog()
    end
end)

-- Update main canvas size
updateMainCanvasSize()

-- =====================
-- SETTINGS TAB CONTENT
-- =====================
local settingsContainer = Instance.new("Frame")
settingsContainer.Name = "SettingsContainer"
settingsContainer.Size = UDim2.new(1, 0, 0, 0)
settingsContainer.BackgroundTransparency = 1
settingsContainer.Parent = settingsContent

-- Function to update settings canvas size
local function updateSettingsCanvasSize()
    local totalHeight = 0
    for _, child in ipairs(settingsContainer:GetChildren()) do
        if child:IsA("GuiObject") then
            totalHeight = totalHeight + child.Size.Y.Offset + 10
        end
    end
    settingsContent.CanvasSize = UDim2.new(0, 0, 0, totalHeight)
    settingsContainer.Size = UDim2.new(1, 0, 0, totalHeight)
end

-- Theme Settings Label
local themeLabel = Instance.new("TextLabel")
themeLabel.Size = UDim2.new(0.9, 0, 0, 30)
themeLabel.Position = UDim2.new(0.05, 0, 0, 0)
themeLabel.BackgroundTransparency = 1
themeLabel.Text = "THEME SELECTOR"
themeLabel.TextColor3 = Color3.new(1, 1, 1)
themeLabel.Font = Enum.Font.GothamBold
themeLabel.TextSize = 18
themeLabel.TextXAlignment = Enum.TextXAlignment.Left
themeLabel.Parent = settingsContainer

-- Theme Description
local themeDesc = Instance.new("TextLabel")
themeDesc.Size = UDim2.new(0.9, 0, 0, 40)
themeDesc.Position = UDim2.new(0.05, 0, 0, 35)
themeDesc.BackgroundTransparency = 1
themeDesc.Text = "Choose your preferred theme color:"
themeDesc.TextColor3 = Color3.new(0.8, 0.8, 0.8)
themeDesc.Font = Enum.Font.Gotham
themeDesc.TextSize = 14
themeDesc.TextXAlignment = Enum.TextXAlignment.Left
themeDesc.TextWrapped = true
themeDesc.Parent = settingsContainer

-- Current Theme Display
local currentThemeLabel = Instance.new("TextLabel")
currentThemeLabel.Size = UDim2.new(0.9, 0, 0, 25)
currentThemeLabel.Position = UDim2.new(0.05, 0, 0, 85)
currentThemeLabel.BackgroundTransparency = 1
currentThemeLabel.Text = "Current Theme: Black"
currentThemeLabel.TextColor3 = Color3.new(1, 1, 1)
currentThemeLabel.Font = Enum.Font.Gotham
currentThemeLabel.TextSize = 15
currentThemeLabel.TextXAlignment = Enum.TextXAlignment.Left
currentThemeLabel.Parent = settingsContainer

-- Theme Colors
local themes = {
    ["Black"] = {
        frameColor = Color3.fromRGB(30, 30, 30),
        buttonColor = Color3.fromRGB(50, 50, 50),
        accentColor = Color3.fromRGB(0, 170, 255),
        textColor = Color3.new(1, 1, 1)
    },
    ["Aqua"] = {
        frameColor = Color3.fromRGB(20, 40, 50),
        buttonColor = Color3.fromRGB(30, 80, 100),
        accentColor = Color3.fromRGB(0, 200, 255),
        textColor = Color3.new(1, 1, 1)
    },
    ["Pink"] = {
        frameColor = Color3.fromRGB(50, 20, 40),
        buttonColor = Color3.fromRGB(100, 30, 80),
        accentColor = Color3.fromRGB(255, 100, 180),
        textColor = Color3.new(1, 1, 1)
    }
}

local currentTheme = "Black"

-- =====================
-- DROPDOWN THEME SELECTOR
-- =====================

-- Dropdown Main Button
local dropdownButton = Instance.new("TextButton")
dropdownButton.Size = UDim2.new(0.9, 0, 0, 40)
dropdownButton.Position = UDim2.new(0.05, 0, 0, 125)
dropdownButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
dropdownButton.Text = "Select Theme ▼"
dropdownButton.TextColor3 = Color3.new(1, 1, 1)
dropdownButton.Font = Enum.Font.Gotham
dropdownButton.TextSize = 15
dropdownButton.Parent = settingsContainer
Instance.new("UICorner", dropdownButton).CornerRadius = UDim.new(0, 12)

-- Dropdown Options Frame (Hidden by default)
local dropdownFrame = Instance.new("Frame")
dropdownFrame.Name = "ThemeDropdown"
dropdownFrame.Size = UDim2.new(0.9, 0, 0, 0) -- Start collapsed
dropdownFrame.Position = UDim2.new(0.05, 0, 0, 170)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
dropdownFrame.ClipsDescendants = true
dropdownFrame.Parent = settingsContainer
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 12)

-- Dropdown Options Container
local dropdownContent = Instance.new("Frame")
dropdownContent.Name = "DropdownContent"
dropdownContent.Size = UDim2.new(1, 0, 0, 0)
dropdownContent.BackgroundTransparency = 1
dropdownContent.Parent = dropdownFrame

local dropdownOpen = false

-- Function to toggle dropdown
local function toggleDropdown()
    dropdownOpen = not dropdownOpen
    
    if dropdownOpen then
        -- Open dropdown
        dropdownButton.Text = "Select Theme ▲"
        TweenService:Create(dropdownFrame, TweenInfo.new(0.3), {
            Size = UDim2.new(0.9, 0, 0, 138) -- 36 * 3 + 30 margin
        }):Play()
        TweenService:Create(dropdownContent, TweenInfo.new(0.3), {
            Size = UDim2.new(1, 0, 0, 138)
        }):Play()
    else
        -- Close dropdown
        dropdownButton.Text = "Select Theme ▼"
        TweenService:Create(dropdownFrame, TweenInfo.new(0.3), {
            Size = UDim2.new(0.9, 0, 0, 0)
        }):Play()
        TweenService:Create(dropdownContent, TweenInfo.new(0.3), {
            Size = UDim2.new(1, 0, 0, 0)
        }):Play()
    end
end

-- Function to apply theme
local function applyTheme(themeName)
    currentTheme = themeName
    local theme = themes[themeName]
    
    -- Apply theme to frame
    TweenService:Create(frame, TweenInfo.new(0.3), {
        BackgroundColor3 = theme.frameColor
    }):Play()
    
    -- Apply theme to buttons
    for _, child in ipairs(frame:GetDescendants()) do
        if child:IsA("TextButton") then
            if child == mainTabBtn or child == settingsTabBtn or child == logsTabBtn then
                -- Tab buttons
                if (child == mainTabBtn and currentTab == "main") or 
                   (child == settingsTabBtn and currentTab == "settings") or
                   (child == logsTabBtn and currentTab == "logs") then
                    TweenService:Create(child, TweenInfo.new(0.3), {
                        BackgroundColor3 = Color3.fromRGB(
                            math.floor(theme.buttonColor.R * 255 * 1.2),
                            math.floor(theme.buttonColor.G * 255 * 1.2),
                            math.floor(theme.buttonColor.B * 255 * 1.2)
                        )
                    }):Play()
                else
                    TweenService:Create(child, TweenInfo.new(0.3), {
                        BackgroundColor3 = Color3.fromRGB(
                            math.floor(theme.buttonColor.R * 255 * 0.8),
                            math.floor(theme.buttonColor.G * 255 * 0.8),
                            math.floor(theme.buttonColor.B * 255 * 0.8)
                        )
                    }):Play()
                end
            elseif child == exit then
                -- Exit button stays red
            elseif child == minimize then
                -- Minimize button stays gray
            elseif child == dropdownButton then
                -- Dropdown button gets theme color
                TweenService:Create(child, TweenInfo.new(0.3), {
                    BackgroundColor3 = theme.buttonColor
                }):Play()
            else
                -- Regular buttons
                TweenService:Create(child, TweenInfo.new(0.3), {
                    BackgroundColor3 = theme.buttonColor
                }):Play()
            end
        elseif child:IsA("TextLabel") and child ~= title then
            TweenService:Create(child, TweenInfo.new(0.3), {
                TextColor3 = theme.textColor
            }):Play()
        end
    end
    
    -- Update slider fill color
    TweenService:Create(fill, TweenInfo.new(0.3), {
        BackgroundColor3 = theme.accentColor
    }):Play()
    
    -- Update current theme label
    currentThemeLabel.Text = "Current Theme: " .. themeName
    
    -- Close dropdown after selection
    if dropdownOpen then
        toggleDropdown()
    end
end

-- Create theme option buttons inside dropdown
local optionY = 10
for themeName, themeData in pairs(themes) do
    local optionButton = Instance.new("TextButton")
    optionButton.Size = UDim2.new(0.9, 0, 0, 36)
    optionButton.Position = UDim2.new(0.05, 0, 0, optionY)
    optionButton.BackgroundColor3 = themeData.buttonColor
    optionButton.Text = themeName
    optionButton.TextColor3 = Color3.new(1, 1, 1)
    optionButton.Font = Enum.Font.Gotham
    optionButton.TextSize = 15
    optionButton.Parent = dropdownContent
    Instance.new("UICorner", optionButton).CornerRadius = UDim.new(0, 8)
    
    -- Highlight current theme
    if themeName == currentTheme then
        optionButton.BackgroundColor3 = themeData.accentColor
    end
    
    optionButton.MouseButton1Click:Connect(function()
        applyTheme(themeName)
        -- Update all option buttons
        for _, child in ipairs(dropdownContent:GetChildren()) do
            if child:IsA("TextButton") then
                local btnThemeName = child.Text
                if btnThemeName == themeName then
                    child.BackgroundColor3 = themes[btnThemeName].accentColor
                else
                    child.BackgroundColor3 = themes[btnThemeName].buttonColor
                end
            end
        end
    end)
    
    optionY = optionY + 42
end

-- Connect dropdown button
dropdownButton.MouseButton1Click:Connect(toggleDropdown)

-- Update settings canvas size
updateSettingsCanvasSize()

-- =====================
-- LOGS TAB CONTENT
-- =====================
local logsContainer = Instance.new("Frame")
logsContainer.Name = "LogsContainer"
logsContainer.Size = UDim2.new(1, 0, 0, 0)
logsContainer.BackgroundTransparency = 1
logsContainer.Parent = logsContent

-- Function to update logs canvas size
local function updateLogsCanvasSize()
    local totalHeight = 0
    for _, child in ipairs(logsContainer:GetChildren()) do
        if child:IsA("GuiObject") then
            totalHeight = totalHeight + child.Size.Y.Offset + 10
        end
    end
    logsContent.CanvasSize = UDim2.new(0, 0, 0, totalHeight)
    logsContainer.Size = UDim2.new(1, 0, 0, totalHeight)
end

-- Logs Title
local logsTitle = Instance.new("TextLabel")
logsTitle.Size = UDim2.new(0.9, 0, 0, 40)
logsTitle.Position = UDim2.new(0.05, 0, 0, 0)
logsTitle.BackgroundTransparency = 1
logsTitle.Text = "UPDATE LOGS"
logsTitle.TextColor3 = Color3.new(1, 1, 1)
logsTitle.Font = Enum.Font.GothamBold
logsTitle.TextSize = 22
logsTitle.TextXAlignment = Enum.TextXAlignment.Center
logsTitle.Parent = logsContainer

-- Version Label
local versionLabel = Instance.new("TextLabel")
versionLabel.Size = UDim2.new(0.9, 0, 0, 25)
versionLabel.Position = UDim2.new(0.05, 0, 0, 50)
versionLabel.BackgroundTransparency = 1
versionLabel.Text = "Version 1.0 - Latest Update"
versionLabel.TextColor3 = Color3.fromRGB(0, 200, 255)
versionLabel.Font = Enum.Font.GothamBold
versionLabel.TextSize = 16
versionLabel.TextXAlignment = Enum.TextXAlignment.Center
versionLabel.Parent = logsContainer

-- Update Date
local dateLabel = Instance.new("TextLabel")
dateLabel.Size = UDim2.new(0.9, 0, 0, 20)
dateLabel.Position = UDim2.new(0.05, 0, 0, 80)
dateLabel.BackgroundTransparency = 1
dateLabel.Text = "December 2025"
dateLabel.TextColor3 = Color3.new(0.8, 0.8, 0.8)
dateLabel.Font = Enum.Font.Gotham
dateLabel.TextSize = 14
dateLabel.TextXAlignment = Enum.TextXAlignment.Center
dateLabel.Parent = logsContainer

-- Separator Line
local separator = Instance.new("Frame")
separator.Size = UDim2.new(0.9, 0, 0, 2)
separator.Position = UDim2.new(0.05, 0, 0, 110)
separator.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
separator.BorderSizePixel = 0
separator.Parent = logsContainer
Instance.new("UICorner", separator).CornerRadius = UDim.new(0, 2)

-- Update Logs Content
local logsContentText = Instance.new("TextLabel")
logsContentText.Size = UDim2.new(0.9, 0, 0, 300)
logsContentText.Position = UDim2.new(0.05, 0, 0, 125)
logsContentText.BackgroundTransparency = 1
logsContentText.Text = [[Version 1.0:
• Added Tabs: Settings, Main and Update Logs.
• Added Themes: Black (Default), Aqua and pink!
• Added No Fog and Full Bright in Main Tab.
• Improved Topbar (Icon).
• Maximum Speed increased 100 to 120.

Thanks For Executing this script, I hope this is HUGE update for you :)
]]

logsContentText.TextColor3 = Color3.new(1, 1, 1)
logsContentText.Font = Enum.Font.Gotham
logsContentText.TextSize = 14
logsContentText.TextXAlignment = Enum.TextXAlignment.Left
logsContentText.TextYAlignment = Enum.TextYAlignment.Top
logsContentText.TextWrapped = true
logsContentText.Parent = logsContainer

-- Edit Note
local editNote = Instance.new("TextLabel")
editNote.Size = UDim2.new(0.9, 0, 0, 40)
editNote.Position = UDim2.new(0.05, 0, 0, 440)
editNote.BackgroundTransparency = 1
editNote.Text = ""
editNote.TextColor3 = Color3.fromRGB(255, 150, 50)
editNote.Font = Enum.Font.Gotham
editNote.TextSize = 12
editNote.TextXAlignment = Enum.TextXAlignment.Center
editNote.TextWrapped = true
editNote.Parent = logsContainer

-- Update logs canvas size
updateLogsCanvasSize()

-- =====================
-- Draggable GUI
-- =====================
local dragging, dragStart, startPos
frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		local mousePos = input.Position
		-- Check if clicked on title bar area (not on tabs or buttons)
		if mousePos.Y < frame.AbsolutePosition.Y + 45 then
			dragging = true
			dragStart = mousePos
			startPos = frame.Position
		end
	end
end)
frame.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = false
	end
end)
UserInputService.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(
			startPos.X.Scale,
			startPos.X.Offset + delta.X,
			startPos.Y.Scale,
			startPos.Y.Offset + delta.Y
		)
	end
end)

-- =====================
-- Minimize / Restore Animation
-- =====================
minimized = false
originalSize = frame.Size

minimize.MouseButton1Click:Connect(function()
	minimized = not minimized
	if minimized then
		-- shrink frame (keep showing title and tabs)
		TweenService:Create(frame, TweenInfo.new(0.3), {Size = UDim2.new(frame.Size.X.Scale, frame.Size.X.Offset, 0, 95)}):Play()
		
		-- Hide tab content
		TweenService:Create(tabContent, TweenInfo.new(0.3), {BackgroundTransparency = 1}):Play()
		tabContent.Visible = false
	else
		-- restore frame
		TweenService:Create(frame, TweenInfo.new(0.3), {Size = originalSize}):Play()
		
		-- Show tab content
		tabContent.Visible = true
		TweenService:Create(tabContent, TweenInfo.new(0.3), {BackgroundTransparency = 1}):Play()
		
		-- Make sure the current tab content is visible
		if currentTab == "main" then
			mainContent.Visible = true
			settingsContent.Visible = false
			logsContent.Visible = false
		elseif currentTab == "settings" then
			mainContent.Visible = false
			settingsContent.Visible = true
			logsContent.Visible = false
		elseif currentTab == "logs" then
			mainContent.Visible = false
			settingsContent.Visible = false
			logsContent.Visible = true
		end
	end
end)

-- =====================
-- Entry Animation
-- =====================
frame.BackgroundTransparency = 1
frame.Size = UDim2.new(0, 10, 0, 10)
frame.Position = UDim2.new(0.5, -5, 0.5, -5)

-- Make ALL children completely invisible from the START
for _, child in ipairs(frame:GetDescendants()) do
	if child:IsA("TextLabel") or child:IsA("TextButton") then
		child.TextTransparency = 1
	elseif child:IsA("ImageLabel") then
		child.ImageTransparency = 1
	end
end

-- Animate entry after a small delay
task.wait(0.5)

-- Grow from center to final size (empty frame)
local entryTween = TweenService:Create(frame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
	Size = UDim2.new(0, 400, 0, 400),
	Position = UDim2.new(0.5, -200, 0.5, -200),
	BackgroundTransparency = 0
})
entryTween:Play()

-- ONLY AFTER frame is fully grown, fade in ALL UI elements
entryTween.Completed:Connect(function()
	-- Fade in text and images
	for _, child in ipairs(frame:GetDescendants()) do
		if child:IsA("TextLabel") or child:IsA("TextButton") then
			TweenService:Create(child, TweenInfo.new(0.3), {
				TextTransparency = 0
			}):Play()
		elseif child:IsA("ImageLabel") then
			TweenService:Create(child, TweenInfo.new(0.3), {
				ImageTransparency = 0
			}):Play()
		end
	end
end)


